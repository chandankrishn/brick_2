{"version":3,"sources":["file:///Users/chandankrishnani/Downloads/Brick_breaker/assets/scripts/selectlevel.ts"],"names":["_decorator","Component","Prefab","instantiate","Label","Sprite","UITransform","sys","SingletonClass","ccclass","property","scoreManager","getInstance","Selectlevel","preloader","loader","node","addChild","console","log","start","getTotalLevel","tempcard","star","height","card","data","Math","ceil","space","getComponent","setContentSize","contentSize","width","level","localStorage","getItem","setItem","parseInt","setCurrent","script_data","i","getCurrent","lock","grayscale","assignbg","getChildByName","string"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, Prefab, instantiate, Label, Sprite, UITransform, ScrollView, sys } from 'cc';\r\nimport { SingletonClass } from './single';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = Selectlevel\r\n * DateTime = Wed Sep 29 2021 14:37:09 GMT+0530 (India Standard Time)\r\n * Author = chandan_krishnani\r\n * FileBasename = selectlevel.ts\r\n * FileBasenameNoExtension = selectlevel\r\n * URL = db://assets/scripts/selectlevel.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n */\r\n var scoreManager:SingletonClass = SingletonClass.getInstance();\r\n \r\n@ccclass('Selectlevel')\r\nexport class Selectlevel extends Component {\r\n    // [1]\r\n    // dummy = '';\r\n\r\n    // [2]\r\n    // @property\r\n    // serializableDummy = 0;\r\n@property(Prefab)\r\ncard:any=null;\r\n@property(Prefab)\r\nstar:any=null;\r\n@property(Prefab)\r\nlock:any=null;\r\n@property(Prefab)\r\nloader:any;\r\nmainbg:any;\r\n\r\n\r\npreloader()\r\n{\r\n    var loader: any = instantiate(this.loader);\r\n    this.node.addChild(loader);\r\n    console.log(loader);\r\n}\r\n\r\n    start () {\r\n        console.log(scoreManager.getTotalLevel());\r\n        var tempcard:any;\r\n        var star:any;\r\n        let height=this.card.data.height*Math.ceil(scoreManager.getTotalLevel()/2);\r\n        let space =((scoreManager.getTotalLevel()/2)*20)+20;\r\n        this.node.getComponent(UITransform).setContentSize(this.node.getComponent(UITransform).contentSize.width,height+space);\r\n        var level:any=sys.localStorage.getItem('levelcompleted');\r\n\r\n        console.log(level);\r\n        if(level==null)\r\n        {\r\n            console.log(\"okay setted\");\r\n            sys.localStorage.setItem('levelcompleted' ,`1`);\r\n        }\r\n        level=parseInt(level);\r\n        console.log(level);\r\n        scoreManager.setCurrent(level);\r\n\r\n\r\n        var script_data:any;\r\n\r\n        for(var i=0;i<scoreManager.getTotalLevel();i++)\r\n        {\r\n            \r\n\r\n            tempcard=instantiate(this.card);\r\n            this.node.addChild(tempcard);\r\n            if(i>=scoreManager.getCurrent())\r\n            {\r\n                star=instantiate(this.lock);\r\n                tempcard.addChild(star);\r\n                tempcard.getComponent(Sprite).grayscale=true;\r\n            }\r\n            else\r\n            {\r\n                star=instantiate(this.star);\r\n                tempcard.addChild(star);\r\n            }\r\n            script_data = tempcard.getComponent('Leveldata');\r\n            script_data.assignbg(this);\r\n            tempcard.level=i+1;\r\n            tempcard.getChildByName(\"Level\").getComponent(Label).string=`${i+1}`;\r\n\r\n\r\n        }\r\n       \r\n        \r\n        // [3]\r\n    }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}