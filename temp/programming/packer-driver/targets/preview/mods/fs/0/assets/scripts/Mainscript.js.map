{"version":3,"sources":["file:///Users/chandankrishnani/Downloads/Brick_breaker/assets/scripts/Mainscript.ts"],"names":["_decorator","Component","Button","tween","Vec3","Prefab","instantiate","UITransform","Sprite","systemEvent","SystemEvent","SpriteFrame","Collider2D","Contact2DType","JsonAsset","director","Label","sys","Intersection2D","SingletonClass","ccclass","property","tiles","scoreManager","getInstance","Mainscript","boxpattern","asset","titlelist","json","row","columns","height","width","scalex","brick","data","scale","x","y","startpositionx","startpositiony","tile_widht","tile_height","numberOfTiles","index","color","type","current_positionx","current_positiony","tile_count","length","i","temp_bricks","node","addChild","ONCE","hasrewards","colidetime","TWICE","THRICE","name","getComponent","spriteFrame","Normal_bricks","brickindex","Math","floor","setPosition","wait","buttonpressed","Play_button","to","delay","start","current_level","getlevelSelected","gamePlayStart","onBeginContact","selfCollider","otherCollider","contact","gameoverpop","console","log","reward_fruit","shift","destroy","checkbasecollision","colider","base","on","BEGIN_CONTACT","testing","positionx","positiony","positionz","fruitprefab","reword","random","rewords_images","push","Fruit_collision","colide1","rectRect","getBoundingBoxToWorld","bouncer","Fruit_basecollision","level","redball","ball","abc","moveOn","bg_node","position","right","left","top","levels","Nextlevelcheck","ball_id","bricks_destroyed","localStorage","setItem","getCurrent","nextlevelpop","nextlevel","popup","getChildByName","pop_down_next_level","call","flushall","chil","removeFromParent","clickcall","getNextLevel","setNextLevel","getHomeScreen","loadScene","setHomeScreen","getReload","setReload","touchMove","event","current","convertToNodeSpaceAR","getUILocation","xpos","moon","Breaker","update","level_string","string","playerscore","onLoad","EventType","TOUCH_MOVE"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,K,OAAAA,K;AAAaC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,W,OAAAA,W;AAAsBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,a,OAAAA,a;AAAkCC,MAAAA,S,OAAAA,S;AAAmBC,MAAAA,Q,OAAAA,Q;AAA0DC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,G,OAAAA,G;AAAKC,MAAAA,c,OAAAA,c;;AACzRC,MAAAA,c,iBAAAA,c;;;;;;;AACDC,MAAAA,O,GAAsBpB,U,CAAtBoB,O;AAASC,MAAAA,Q,GAAarB,U,CAAbqB,Q;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;iBACKC,K;AAAAA,QAAAA,K,CAAAA,K;AAAAA,QAAAA,K,CAAAA,K;AAAAA,QAAAA,K,CAAAA,K;SAAAA,K,KAAAA,K;;AAODC,MAAAA,Y,GAA8B;AAAA;AAAA,4CAAeC,WAAf,E;;4BAGrBC,U,WADZL,OAAO,CAAC,YAAD,C,UAGPC,QAAQ,CAACnB,MAAD,C,UAERmB,QAAQ,CAAChB,MAAD,C,UAERgB,QAAQ,CAACb,MAAD,C,UAERa,QAAQ,CAACb,MAAD,C,UAERa,QAAQ,CAACb,MAAD,C,UAERa,QAAQ,CAACb,MAAD,C,UAERa,QAAQ,CAAChB,MAAD,C,UAERgB,QAAQ,CAAChB,MAAD,C,WAERgB,QAAQ,CAACV,WAAD,C,WAERU,QAAQ,CAAChB,MAAD,C,WAERgB,QAAQ,CAAChB,MAAD,C,WAIRgB,QAAQ,CAACP,SAAD,C,WAGRO,QAAQ,CAACL,KAAD,C,WAERK,QAAQ,CAACL,KAAD,C,WAIRK,QAAQ,CAACV,WAAD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sEAQU,E;;mEACR,E;;uEACO,C;;0EACG,C;;;;wEAEF,C;;yEACN,E;;wEACM,C;;;;;;mEAGJ,K;;6EAmKU,C;;iEACX,K;;;;;;;eAhKde,U,GAAA,oBAAWC,KAAX,EACA;AAEI,eAAKC,SAAL,GAAiBD,KAAK,CAACE,IAAN,CAAW,QAAX,CAAjB;AACA,cAAIC,GAAG,GAAC,KAAKF,SAAL,CAAe,YAAf,CAAR;AACA,cAAIG,OAAO,GAAC,KAAKH,SAAL,CAAe,eAAf,CAAZ;AACA,cAAII,MAAa,GAAE,KAAKA,MAAL,GAAY,CAA/B;AACA,cAAIC,KAAY,GAAC,EAAE,KAAKA,KAAL,GAAW,CAAb,CAAjB;AACA,cAAIC,MAAU,GAAE,CAAC,KAAKD,KAAL,GAAW,EAAZ,IAAgBF,OAAjB,GAA0B,KAAKI,KAAL,CAAWC,IAAX,CAAgBH,KAAzD;AAGI,eAAKE,KAAL,CAAWC,IAAX,CAAgBC,KAAhB,CAAsBC,CAAtB,GAAwBJ,MAAxB;AACA,eAAKC,KAAL,CAAWC,IAAX,CAAgBC,KAAhB,CAAsBE,CAAtB,GAAwBL,MAAxB;AACA,cAAIM,cAAqB,GAAEP,KAAD,GAAQ,EAAR,GAAc,KAAKE,KAAL,CAAWC,IAAX,CAAgBH,KAAjB,GAAwBC,MAAzB,GAAiC,CAAvE;AACA,cAAIO,cAAqB,GAAET,MAAD,IAAU,KAAK,KAAKG,KAAL,CAAWC,IAAX,CAAgBJ,MAAhB,GAAuBE,MAAxB,GAAgC,CAA9C,CAA1B;AACA,cAAIQ,UAAiB,GAAE,KAAKP,KAAL,CAAWC,IAAX,CAAgBH,KAAjB,GAAwBC,MAA9C;AACA,cAAIS,WAAkB,GAAE,KAAKR,KAAL,CAAWC,IAAX,CAAgBJ,MAAjB,GAAyBE,MAAhD;AACA,cAAIU,aAAiB,GAAC,KAAKhB,SAAL,CAAe,OAAf,CAAtB;AACA,cAAIiB,KAAY,GAAC,CAAjB;AACA,cAAIC,KAAY,GAAC,CAAjB;AACA,cAAIC,IAAW,GAAC,CAAhB;AACA,cAAIC,iBAAwB,GAAC,CAA7B;AACA,cAAIC,iBAAwB,GAAC,CAA7B;AACA,eAAKC,UAAL,GAAgBN,aAAa,CAACO,MAA9B;;AAEA,eAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACR,aAAa,CAACO,MAA5B,EAAmCC,CAAC,EAApC,EACA;AAEG,iBAAKC,WAAL,GAAiB/C,WAAW,CAAC,KAAK6B,KAAN,CAA5B;AACA,iBAAKmB,IAAL,CAAUC,QAAV,CAAmB,KAAKF,WAAxB;AAEAN,YAAAA,IAAI,GAACH,aAAa,CAACQ,CAAD,CAAb,CAAiBL,IAAtB;AACAF,YAAAA,KAAK,GAACD,aAAa,CAACQ,CAAD,CAAb,CAAiBP,KAAvB;AACAC,YAAAA,KAAK,GAACF,aAAa,CAACQ,CAAD,CAAb,CAAiBN,KAAvB;;AACA,oBAAOC,IAAP;AAEA,mBAAKzB,KAAK,CAACkC,IAAX;AACI;AACI,uBAAKH,WAAL,CAAiBI,UAAjB,GAA4B,KAA5B;AACA,uBAAKJ,WAAL,CAAiBK,UAAjB,GAA4BpC,KAAK,CAACkC,IAAlC;AACA;AACH;;AACJ,mBAAKlC,KAAK,CAACqC,KAAX;AACI;AACI,uBAAKN,WAAL,CAAiBI,UAAjB,GAA4B,KAA5B;AACA,uBAAKJ,WAAL,CAAiBK,UAAjB,GAA4BpC,KAAK,CAACqC,KAAlC;AACA;AACH;;AACL,mBAAKrC,KAAK,CAACsC,MAAX;AACI;AAEI,uBAAKP,WAAL,CAAiBI,UAAjB,GAA4B,IAA5B;AACA,uBAAKJ,WAAL,CAAiBK,UAAjB,GAA4BpC,KAAK,CAACsC,MAAlC;AACA;AACH;AApBN;;AAsBA,iBAAKP,WAAL,CAAiBQ,IAAjB;AACC,iBAAKR,WAAL,CAAiBS,YAAjB,CAA8BtD,MAA9B,EAAsCuD,WAAtC,GAAkD,KAAKC,aAAL,CAAmBlB,KAAnB,CAAlD;AACA,iBAAKO,WAAL,CAAiBY,UAAjB,GAA4BnB,KAA5B;AACAE,YAAAA,iBAAiB,GAACR,cAAc,GAAI0B,IAAI,CAACC,KAAL,CAAWtB,KAAK,GAAGd,OAAnB,IAA4BW,UAAhE;AACAO,YAAAA,iBAAiB,GAACR,cAAc,GAAIyB,IAAI,CAACC,KAAL,CAAWtB,KAAK,GAAGd,OAAnB,IAA4BY,WAAhE;AACA,iBAAKU,WAAL,CAAiBe,WAAjB,CAA6BpB,iBAA7B,EAA+CC,iBAA/C,EAAiE,CAAjE;AACH;;AACD,eAAKoB,IAAL,GAAU,IAAV;AAEP,S;;eAEAC,a,GAAA,yBACA;AACGnE,UAAAA,KAAK,CAAC,KAAKoE,WAAL,CAAiBjB,IAAlB,CAAL,CACCkB,EADD,CACI,GADJ,EACQ;AAACnC,YAAAA,KAAK,EAAG,IAAIjC,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb;AAAT,WADR,EAECqE,KAFD,CAEO,GAFP,EAGCD,EAHD,CAGI,GAHJ,EAGQ;AAACnC,YAAAA,KAAK,EAAE,IAAIjC,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb;AAAR,WAHR,EAICqE,KAJD,CAIO,GAJP,EAKCD,EALD,CAKI,GALJ,EAKQ;AAACnC,YAAAA,KAAK,EAAE,IAAIjC,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb;AAAR,WALR,EAMCsE,KAND;AAQA,eAAKC,aAAL,GAAmBpD,YAAY,CAACqD,gBAAb,KAAgC,CAAnD;AACA,eAAKC,aAAL,CAAmB,KAAKF,aAAxB;AACF,S;;eACDG,c,GAAA,wBAAgBC,YAAhB,EAA0CC,aAA1C,EAAqEC,OAArE,EACA;AACG,cAAGD,aAAa,CAACnB,IAAd,IAAoB,0BAAvB,EACA;AACI,iBAAKqB,WAAL;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAEH,WALD,MAOA;AACI,iBAAKC,YAAL,CAAkBC,KAAlB;AACH;;AACDN,UAAAA,aAAa,CAAClB,YAAd,CAA2BtD,MAA3B,EAAmC+E,OAAnC;AACAP,UAAAA,aAAa,CAACO,OAAd;AACH,S;;eACAC,kB,GAAA,8BACA;AAEI,cAAIC,OAAO,GAAC,KAAKC,IAAL,CAAUpC,IAAV,CAAeQ,YAAf,CAA4BlD,UAA5B,CAAZ;;AACA,cAAG6E,OAAH,EACA;AACIA,YAAAA,OAAO,CAACE,EAAR,CAAW9E,aAAa,CAAC+E,aAAzB,EAAuC,KAAKd,cAA5C,EAA2D,IAA3D;AACH;AAEJ,S;;eACDe,O,GAAA,iBAAQC,SAAR,EAAyBC,SAAzB,EAA0CC,SAA1C,EACA;AAEI,eAAKC,WAAL,GAAkB3F,WAAW,CAAC,KAAK4F,MAAN,CAA7B;AACA,eAAK5C,IAAL,CAAUC,QAAV,CAAmB,KAAK0C,WAAxB;AACA,cAAIE,MAAM,GAACjC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACiC,MAAL,KAAc,CAAzB,CAAX;AACA,eAAKF,WAAL,CAAiBnC,YAAjB,CAA8BtD,MAA9B,EAAsCuD,WAAtC,GAAkD,KAAKqC,cAAL,CAAoBD,MAApB,CAAlD;AACA,eAAKF,WAAL,CAAiB7B,WAAjB,CAA6B0B,SAA7B,EAAuCC,SAAvC,EAAiDC,SAAjD;AACA,eAAKX,YAAL,CAAkBgB,IAAlB,CAAuB,KAAKJ,WAA5B;AACH,S;;eACDK,e,GAAA,yBAAgBJ,MAAhB,EACA;AAEG,cAAIK,OAAO,GAACrF,cAAc,CAACsF,QAAf,CACRN,MAAM,CAACpC,YAAP,CAAoBvD,WAApB,EAAiCkG,qBAAjC,EADQ,EACiD,KAAKC,OAAL,CAAa5C,YAAb,CAA0BvD,WAA1B,EAAuCkG,qBAAvC,EADjD,CAAZ;AAIA,iBAAOF,OAAP;AACF,S;;eACDI,mB,GAAA,6BAAoBT,MAApB,EACA;AACG,cAAIK,OAAO,GAACrF,cAAc,CAACsF,QAAf,CACRN,MAAM,CAACpC,YAAP,CAAoBvD,WAApB,EAAiCkG,qBAAjC,EADQ,EACiD,KAAKf,IAAL,CAAU5B,YAAV,CAAuBvD,WAAvB,EAAoCkG,qBAApC,EADjD,CAAZ;AAGA,iBAAOF,OAAP;AACF,S;;eACD1B,a,GAAA,uBAAc+B,KAAd,EACA;AACI,eAAKC,OAAL,GAAavG,WAAW,CAAC,KAAKwG,IAAN,CAAxB;AACA,eAAKxD,IAAL,CAAUC,QAAV,CAAmB,KAAKsD,OAAxB;AACA,cAAIE,GAAO,GAAG,KAAKF,OAAL,CAAa/C,YAAb,CAA0B,MAA1B,CAAd;AACA,eAAKkD,MAAL,GAAY,IAAZ;AACAD,UAAAA,GAAG,CAACE,OAAJ,CAAY,IAAZ;AACA,eAAKjF,MAAL,GAAY,KAAKsB,IAAL,CAAUQ,YAAV,CAAuBvD,WAAvB,EAAoCyB,MAAhD;AACA,eAAKC,KAAL,GAAW,KAAKqB,IAAL,CAAUQ,YAAV,CAAuBvD,WAAvB,EAAoC0B,KAA/C;AACA,eAAKyE,OAAL,CAAatC,WAAb,CAAyB,CAAzB,EAA2B,EAAE,KAAKpC,MAAL,GAAY,CAAd,IAAiB,GAA5C,EAAgD,CAAhD;AACA7B,UAAAA,KAAK,CAAC,KAAKuF,IAAL,CAAUpC,IAAX,CAAL,CACCkB,EADD,CACI,GADJ,EACQ;AAAC0C,YAAAA,QAAQ,EAAG,IAAI9G,IAAJ,CAAS,CAAT,EAAW,EAAE,KAAK4B,MAAL,GAAY,CAAd,IAAiB,EAA5B,EAA+B,CAA/B;AAAZ,WADR,EAEC0C,KAFD;AAIAvE,UAAAA,KAAK,CAAC,KAAKgH,KAAL,CAAW7D,IAAZ,CAAL,CACCkB,EADD,CACI,GADJ,EACQ;AAAC0C,YAAAA,QAAQ,EAAG,IAAI9G,IAAJ,CAAU,KAAK6B,KAAL,GAAW,CAArB,EAAwB,CAAxB,EAA0B,CAA1B;AAAZ,WADR,EAECyC,KAFD;AAIAvE,UAAAA,KAAK,CAAC,KAAKiH,IAAL,CAAU9D,IAAX,CAAL,CACCkB,EADD,CACI,GADJ,EACQ;AAAC0C,YAAAA,QAAQ,EAAG,IAAI9G,IAAJ,CAAS,EAAE,KAAK6B,KAAL,GAAW,CAAb,CAAT,EAAyB,CAAzB,EAA2B,CAA3B;AAAZ,WADR,EAECyC,KAFD;AAIAvE,UAAAA,KAAK,CAAC,KAAKkH,GAAL,CAAS/D,IAAV,CAAL,CACCkB,EADD,CACI,GADJ,EACQ;AAAC0C,YAAAA,QAAQ,EAAG,IAAI9G,IAAJ,CAAS,CAAT,EAAY,KAAK4B,MAAL,GAAY,CAAxB,EAA2B,CAA3B;AAAZ,WADR,EAEC0C,KAFD;AAGA,eAAKc,kBAAL;AACA,eAAK9D,UAAL,CAAgB,KAAK4F,MAAL,CAAYV,KAAZ,CAAhB;AACH,S;;eAGDW,c,GAAA,0BACA;AACG,cAAIC,OAAW,GAAC,KAAKX,OAAL,CAAa/C,YAAb,CAA0B,MAA1B,EAAkC2D,gBAAlD;;AAEA,cAAG,KAAKvE,UAAL,IAAiBsE,OAAO,CAACrE,MAAzB,IAAmC,KAAKkC,YAAL,CAAkBlC,MAAlB,IAA0B,CAA7D,IAAkE,KAAKkB,IAA1E,EACA;AACI,iBAAK2C,MAAL,GAAY,KAAZ;AACA,iBAAK3C,IAAL,GAAU,KAAV;AACApD,YAAAA,GAAG,CAACyG,YAAJ,CAAiBC,OAAjB,CAAyB,gBAAzB,QAA8CpG,YAAY,CAACqG,UAAb,KAA0B,CAAxE;AACA,iBAAKH,gBAAL,GAAsB,KAAKZ,OAAL,CAAa/C,YAAb,CAA0B,MAA1B,EAAkC2D,gBAAlC,CAAmDtE,MAAzE;AACA,iBAAK0D,OAAL,CAAatB,OAAb;AACA,iBAAKsC,YAAL;AACA,iBAAK3E,UAAL,GAAgB,CAAhB;AAEH;AAEH,S;;eACDgC,W,GAAA,uBACA;AACG,eAAK4C,SAAL,GAAexH,WAAW,CAAC,KAAKyH,KAAN,CAA1B;AACA,eAAKzE,IAAL,CAAUC,QAAV,CAAmB,KAAKuE,SAAxB;AACA,eAAKA,SAAL,CAAeE,cAAf,CAA8B,MAA9B,EAAsCzC,OAAtC;AACA,eAAKuC,SAAL,CAAe1D,WAAf,CAA2B,CAA3B,EAA6B,EAAG,KAAKpC,MAAL,GAAY,CAAb,GAAkB,KAAK+F,KAAL,CAAW3F,IAAX,CAAgBJ,MAApC,CAA7B,EAAyE,CAAzE;AACA7B,UAAAA,KAAK,CAAC,KAAK2H,SAAN,CAAL,CACCtD,EADD,CACI,GADJ,EACQ;AAAC0C,YAAAA,QAAQ,EAAG,IAAI9G,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb;AAAZ,WADR,EAEAsE,KAFA;AAGF,S;;eACDuD,mB,GAAA,+BACA;AAAA;;AAEG9H,UAAAA,KAAK,CAAC,KAAK2H,SAAN,CAAL,CACCtD,EADD,CACI,GADJ,EACQ;AAAC0C,YAAAA,QAAQ,EAAG,IAAI9G,IAAJ,CAAS,CAAT,EAAW,EAAG,KAAK4B,MAAL,GAAY,CAAb,GAAkB,KAAK+F,KAAL,CAAW3F,IAAX,CAAgBJ,MAApC,CAAX,EAAuD,CAAvD;AAAZ,WADR,EAECyC,KAFD,CAEO,GAFP,EAGCyD,IAHD,CAGM,YAAI;AAAC,YAAA,MAAI,CAACJ,SAAL,CAAevC,OAAf;AAA0B,WAHrC,EAICb,KAJD;AAKF,S;;eACDyD,Q,GAAA,oBACA;AAEG,cAAIC,IAAJ;AACIA,UAAAA,IAAI,GAAC,KAAK9E,IAAL,CAAU0E,cAAV,CAAyB,eAAzB,CAAL;;AACA,iBAAMI,IAAN,EACA;AACGA,YAAAA,IAAI,CAACC,gBAAL;AACAD,YAAAA,IAAI,GAAC,KAAK9E,IAAL,CAAU0E,cAAV,CAAyB,eAAzB,CAAL;AACF;AAEP,S;;eAEDM,S,GAAA,qBACA;AACG,cAAG/G,YAAY,CAACgH,YAAb,EAAH,EACA;AACIhH,YAAAA,YAAY,CAACiH,YAAb,CAA0B,KAA1B;AACArD,YAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,iBAAKP,aAAL,CAAmB,EAAE,KAAKF,aAA1B;AACA,iBAAKqC,MAAL,GAAY,IAAZ;AACA,iBAAKiB,mBAAL;AAEH,WARD,MASK,IAAG1G,YAAY,CAACkH,aAAb,EAAH,EACL;AACItD,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,iBAAK6C,mBAAL;AACAlH,YAAAA,QAAQ,CAAC2H,SAAT,CAAmB,OAAnB;AACAnH,YAAAA,YAAY,CAACoH,aAAb,CAA2B,KAA3B;AACH,WANI,MAQA,IAAGpH,YAAY,CAACqH,SAAb,EAAH,EACL;AACIrH,YAAAA,YAAY,CAACsH,SAAb,CAAuB,KAAvB;AACA1D,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,iBAAK4B,MAAL,GAAY,IAAZ;AAEA,iBAAKiB,mBAAL;AACC9C,YAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD,iBAAK+C,QAAL;AACAhD,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,iBAAKP,aAAL,CAAmB,KAAKF,aAAxB;AACH;AACH,S;;eAEDkD,Y,GAAA,wBACA;AACI,eAAKC,SAAL,GAAexH,WAAW,CAAC,KAAKyH,KAAN,CAA1B;AACA,eAAKzE,IAAL,CAAUC,QAAV,CAAmB,KAAKuE,SAAxB;AACA,eAAKA,SAAL,CAAe1D,WAAf,CAA2B,CAA3B,EAA6B,EAAG,KAAKpC,MAAL,GAAY,CAAb,GAAiB,KAAK+F,KAAL,CAAW3F,IAAX,CAAgBJ,MAAnC,CAA7B,EAAwE,CAAxE;AACA7B,UAAAA,KAAK,CAAC,KAAK2H,SAAN,CAAL,CACCtD,EADD,CACI,GADJ,EACQ;AAAC0C,YAAAA,QAAQ,EAAG,IAAI9G,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb;AAAZ,WADR,EAEAsE,KAFA;AAIH,S;;eAEFoE,S,GAAA,mBAAUC,KAAV,EACI;AACI,cAAG,KAAK/B,MAAR,EACA;AACA,gBAAIgC,OAAY,GAAC,KAAK1F,IAAL,CAAUQ,YAAV,CAAuBvD,WAAvB,EAAoC0I,oBAApC,CAAyD,IAAI7I,IAAJ,CAAS2I,KAAK,CAACG,aAAN,GAAsB5G,CAA/B,EAAiCyG,KAAK,CAACG,aAAN,GAAsB3G,CAAvD,EAAyD,CAAzD,CAAzD,CAAjB;AACA,gBAAI4G,IAAI,GAAEH,OAAO,CAAC1G,CAAlB;AACA,gBAAI8G,IAAI,GAAC,KAAK1D,IAAL,CAAUpC,IAAV,CAAerB,KAAf,GAAqB,CAA9B;;AACA,gBAAI,KAAKA,KAAL,GAAW,CAAZ,GAAgB,KAAKoH,OAAL,CAAajH,IAAb,CAAkBH,KAAlB,GAAwB,CAAxC,GAA2CkH,IAA3C,IAAmD,EAAG,KAAKlH,KAAL,GAAW,CAAZ,GAAgB,KAAKoH,OAAL,CAAajH,IAAb,CAAkBH,KAAlB,GAAwB,CAA1C,IAA8CkH,IAApG,EACA;AAEA,mBAAKzC,OAAL,CAAatC,WAAb,CAAyB+E,IAAzB,EAA8B,EAAE,KAAKnH,MAAL,GAAY,CAAd,IAAiBoH,IAA/C,EAAoD,CAApD;AACC;AACJ;AAEA,S;;eACLE,M,GAAA,kBACI;AACI,eAAKC,YAAL,CAAkBzF,YAAlB,CAA+B9C,KAA/B,EAAsCwI,MAAtC,kBAAyD,KAAK7E,aAAL,GAAmB,CAA5E;AACA,eAAK2D,SAAL;;AACA,eAAI,IAAIlF,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKiC,YAAL,CAAkBlC,MAAhC,EAAuCC,CAAC,EAAxC,EACA;AACI,iBAAKiC,YAAL,CAAkBjC,CAAlB,EAAqBgB,WAArB,CAAiC,KAAKiB,YAAL,CAAkBjC,CAAlB,EAAqB8D,QAArB,CAA8B5E,CAA/D,EAAiE,KAAK+C,YAAL,CAAkBjC,CAAlB,EAAqB8D,QAArB,CAA8B3E,CAA9B,GAAgC,EAAjG,EAAoG,CAApG;;AACA,gBAAG,KAAK+D,eAAL,CAAqB,KAAKjB,YAAL,CAAkBjC,CAAlB,CAArB,CAAH,EACA;AACI,mBAAKqG,WAAL,GAAiB,CAAC,CAAlB;AACA,mBAAKpE,YAAL,CAAkBjC,CAAlB,EAAqBmC,OAArB;AACA,mBAAKF,YAAL,CAAkBC,KAAlB;AACH;;AACD,gBAAG,KAAKqB,mBAAL,CAAyB,KAAKtB,YAAL,CAAkBjC,CAAlB,CAAzB,CAAH,EACA;AACI,mBAAKiC,YAAL,CAAkBjC,CAAlB,EAAqBmC,OAArB;AACA,mBAAKF,YAAL,CAAkBC,KAAlB;AAEH;AACJ;;AACD,eAAKiC,cAAL;AAIH,S;;eACLmC,M,GAAA,kBACI;AACI,eAAKhD,OAAL,GAAapG,WAAW,CAAC,KAAK+I,OAAN,CAAxB;AACA,eAAK/F,IAAL,CAAUC,QAAV,CAAmB,KAAKmD,OAAxB;AACAjG,UAAAA,WAAW,CAACkF,EAAZ,CAAejF,WAAW,CAACiJ,SAAZ,CAAsBC,UAArC,EAAgD,KAAKd,SAArD,EAA+D,IAA/D;AAGH,S;;;QAtW2B7I,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iBAmBlB,E;;;;;;;;;;;;;;;;;iBAQH,E;;;;;;;;;;;;;;;;;iBASI,E;;;AAqUf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\r\nimport { _decorator, Component, Node, Button, tween, Vec2, Vec3, Prefab, instantiate, UITransform, Sprite, systemEvent, SystemEvent, KeyCode, SpriteFrame, Collider2D, Contact2DType, IPhysics2DContact, JsonAsset, Script, director, RenderFlow, RigidBody2D, game, spriteAssembler, Label, sys, Intersection2D } from 'cc';\r\nimport { SingletonClass } from './single';\r\nconst { ccclass, property } = _decorator;\r\n/**\r\n * Predefined variables\r\n * Name = Mainscript\r\n * DateTime = Wed Sep 22 2021 10:24:04 GMT+0530 (India Standard Time)\r\n * Author = chandan_krishnani\r\n * FileBasename = Mainscript.ts\r\n * FileBasenameNoExtension = Mainscript\r\n * URL = db://assets/scripts/Mainscript.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n */\r\nenum tiles\r\n{\r\n   ONCE=1,\r\n   TWICE=2,\r\n   THRICE=3\r\n\r\n}\r\nvar scoreManager:SingletonClass = SingletonClass.getInstance();\r\n\r\n@ccclass('Mainscript')\r\nexport class Mainscript extends Component {\r\n    \r\n@property(Button)\r\nPlay_button:any;\r\n@property(Prefab)\r\nBreaker:any;\r\n@property(Sprite)\r\nbase:any;\r\n@property(Sprite)\r\nleft:any;\r\n@property(Sprite)\r\nright:any;\r\n@property(Sprite)\r\ntop:any;\r\n@property(Prefab)\r\nball:any;\r\n@property(Prefab)\r\nbrick:any;\r\n@property(SpriteFrame)\r\nNormal_bricks=[];\r\n@property(Prefab)\r\nreword:any;\r\n@property(Prefab)\r\npopup:any;\r\n\r\n\r\n@property(JsonAsset)\r\nlevels:any=[];\r\n\r\n@property(Label)\r\nlevel_string:Label;\r\n@property(Label)\r\nscore_string:Label;\r\n\r\n\r\n@property(SpriteFrame)\r\nrewords_images=[];\r\n\r\nredball:any;\r\nbouncer:any;\r\nheight:number;\r\nwidth:number;\r\ntemp_bricks:any;\r\ntitlelist:string[]=[];\r\nfruits:any=[];\r\ntile_count:number=0;\r\ncurrent_level:number=0;\r\nfruitprefab:any;\r\nplayerscore:number=0;\r\nreward_fruit=[];\r\nstart_fruit:number=0;\r\nnextlevel:any;\r\npopoutscript:any;\r\nmoveOn:boolean=false;\r\n\r\n\r\n\r\nboxpattern(asset:any)\r\n{\r\n\r\n    this.titlelist = asset.json[\"level1\"];\r\n    let row=this.titlelist[\"no_of_rows\"];\r\n    var columns=this.titlelist[\"no_of_columns\"];\r\n    var height:number=(this.height/2);\r\n    var width:number=-(this.width/2);\r\n    var scalex:any=((this.width-50)/columns)/this.brick.data.width;\r\n\r\n\r\n        this.brick.data.scale.x=scalex;\r\n        this.brick.data.scale.y=scalex;\r\n        var startpositionx:number=(width)+25+(((this.brick.data.width)*scalex)/2);\r\n        var startpositiony:number=(height)-(25+((this.brick.data.height*scalex)/2));\r\n        var tile_widht:number=(this.brick.data.width)*scalex;\r\n        var tile_height:number=(this.brick.data.height)*scalex;\r\n        var numberOfTiles:any=this.titlelist[\"Tiles\"];\r\n        var index:number=0;\r\n        var color:number=0;\r\n        var type:number=0;\r\n        var current_positionx:number=0;\r\n        var current_positiony:number=0;\r\n        this.tile_count=numberOfTiles.length;\r\n        \r\n        for(var i=0;i<numberOfTiles.length;i++)\r\n        {\r\n            \r\n           this.temp_bricks=instantiate(this.brick);\r\n           this.node.addChild(this.temp_bricks);\r\n        \r\n           type=numberOfTiles[i].type;\r\n           index=numberOfTiles[i].index;\r\n           color=numberOfTiles[i].color;\r\n           switch(type)\r\n           {\r\n           case tiles.ONCE:\r\n               {\r\n                   this.temp_bricks.hasrewards=false;\r\n                   this.temp_bricks.colidetime=tiles.ONCE;\r\n                   break;\r\n               }\r\n            case tiles.TWICE:\r\n                {\r\n                    this.temp_bricks.hasrewards=false;\r\n                    this.temp_bricks.colidetime=tiles.TWICE;\r\n                    break;\r\n                }\r\n            case tiles.THRICE:\r\n                {\r\n                   \r\n                    this.temp_bricks.hasrewards=true;\r\n                    this.temp_bricks.colidetime=tiles.THRICE;\r\n                    break;\r\n                }\r\n           }\r\n           this.temp_bricks.name=`Normal_bricks`;\r\n            this.temp_bricks.getComponent(Sprite).spriteFrame=this.Normal_bricks[color];\r\n            this.temp_bricks.brickindex=color;\r\n            current_positionx=startpositionx + (Math.floor(index % columns)*tile_widht);\r\n            current_positiony=startpositiony - (Math.floor(index / columns)*tile_height);\r\n            this.temp_bricks.setPosition(current_positionx,current_positiony,1);\r\n        }\r\n        this.wait=true;\r\n\r\n}\r\n\r\n buttonpressed()\r\n {\r\n    tween(this.Play_button.node)\r\n    .to(0.2,{scale : new Vec3(2,2,2)})\r\n    .delay(0.1)\r\n    .to(0.2,{scale :new Vec3(1,1,1)})\r\n    .delay(0.3)\r\n    .to(0.2,{scale :new Vec3(0,0,0)})\r\n    .start();\r\n\r\n    this.current_level=scoreManager.getlevelSelected()-1;\r\n    this.gamePlayStart(this.current_level);\r\n }\r\n onBeginContact (selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null) \r\n {  \r\n    if(otherCollider.name==\"Ball_1<CircleCollider2D>\")\r\n    {\r\n        this.gameoverpop();\r\n        console.log(\"Game over\");\r\n     \r\n    }\r\n    else\r\n    {\r\n        this.reward_fruit.shift();\r\n    }\r\n    otherCollider.getComponent(Sprite).destroy();\r\n    otherCollider.destroy();\r\n} \r\n checkbasecollision()\r\n {\r\n     \r\n     let colider=this.base.node.getComponent(Collider2D);\r\n     if(colider)\r\n     {\r\n         colider.on(Contact2DType.BEGIN_CONTACT,this.onBeginContact,this);\r\n     }\r\n\r\n }\r\n testing(positionx:number,positiony:number,positionz:number)\r\n {\r\n\r\n     this.fruitprefab= instantiate(this.reword);\r\n     this.node.addChild(this.fruitprefab);\r\n     var random=Math.floor(Math.random()*4);\r\n     this.fruitprefab.getComponent(Sprite).spriteFrame=this.rewords_images[random];\r\n     this.fruitprefab.setPosition(positionx,positiony,positionz);\r\n     this.reward_fruit.push(this.fruitprefab);\r\n }\r\n Fruit_collision(reword:any)\r\n {\r\n    \r\n    var colide1=Intersection2D.rectRect(\r\n        reword.getComponent(UITransform).getBoundingBoxToWorld(),this.bouncer.getComponent(UITransform).getBoundingBoxToWorld()\r\n        );\r\n       \r\n    return colide1;\r\n }\r\n Fruit_basecollision(reword:any)\r\n {\r\n    var colide1=Intersection2D.rectRect(\r\n        reword.getComponent(UITransform).getBoundingBoxToWorld(),this.base.getComponent(UITransform).getBoundingBoxToWorld()\r\n        );\r\n    return colide1;\r\n }\r\n gamePlayStart(level:number)\r\n {\r\n     this.redball=instantiate(this.ball);\r\n     this.node.addChild(this.redball);\r\n     let abc:any = this.redball.getComponent('Ball');\r\n     this.moveOn=true;\r\n     abc.bg_node(this);\r\n     this.height=this.node.getComponent(UITransform).height;\r\n     this.width=this.node.getComponent(UITransform).width;\r\n     this.bouncer.setPosition(0,-(this.height/2)+150,0);\r\n     tween(this.base.node)\r\n     .to(0.5,{position : new Vec3(0,-(this.height/2)+50,0)})\r\n     .start();\r\n\r\n     tween(this.right.node)\r\n     .to(0.5,{position : new Vec3((this.width/2),0,0)})\r\n     .start();\r\n\r\n     tween(this.left.node)\r\n     .to(0.5,{position : new Vec3(-(this.width/2),0,0)})\r\n     .start();\r\n\r\n     tween(this.top.node)\r\n     .to(0.5,{position : new Vec3(0,(this.height/2),0)})\r\n     .start();\r\n     this.checkbasecollision();\r\n     this.boxpattern(this.levels[level]);\r\n }\r\n bricks_destroyed:number=0;\r\n wait:boolean=false;\r\n Nextlevelcheck()\r\n {\r\n    let ball_id:any=this.redball.getComponent('Ball').bricks_destroyed;\r\n\r\n    if(this.tile_count==ball_id.length && this.reward_fruit.length==0 && this.wait)\r\n    {\r\n        this.moveOn=false;\r\n        this.wait=false;\r\n        sys.localStorage.setItem('levelcompleted' ,`${scoreManager.getCurrent()+1 }`);\r\n        this.bricks_destroyed=this.redball.getComponent('Ball').bricks_destroyed.length;\r\n        this.redball.destroy();\r\n        this.nextlevelpop();\r\n        this.tile_count=0;\r\n        \r\n    }\r\n    \r\n }\r\n gameoverpop()\r\n {\r\n    this.nextlevel=instantiate(this.popup);\r\n    this.node.addChild(this.nextlevel);\r\n    this.nextlevel.getChildByName('play').destroy();\r\n    this.nextlevel.setPosition(0,-((this.height/2 )+ this.popup.data.height),0);\r\n    tween(this.nextlevel)\r\n    .to(0.5,{position : new Vec3(0,0,0)})\r\n   .start();\r\n }\r\n pop_down_next_level()\r\n {\r\n   \r\n    tween(this.nextlevel)\r\n    .to(0.5,{position : new Vec3(0,-((this.height/2 )+ this.popup.data.height),0)})\r\n    .delay(0.5)\r\n    .call(()=>{this.nextlevel.destroy();})\r\n    .start();\r\n }\r\n flushall()\r\n {\r\n  \r\n    var chil:Node;\r\n        chil=this.node.getChildByName('Normal_bricks');\r\n        while(chil)\r\n        {\r\n           chil.removeFromParent();\r\n           chil=this.node.getChildByName('Normal_bricks');\r\n        }\r\n    \r\n }\r\n\r\n clickcall()\r\n {\r\n    if(scoreManager.getNextLevel())\r\n    {\r\n        scoreManager.setNextLevel(false);\r\n        console.log(\"Next level\");\r\n        this.gamePlayStart(++this.current_level);\r\n        this.moveOn=true;\r\n        this.pop_down_next_level();\r\n       \r\n    }\r\n    else if(scoreManager.getHomeScreen())\r\n    {\r\n        console.log(\"Home screen\");\r\n        this.pop_down_next_level();\r\n        director.loadScene('level');\r\n        scoreManager.setHomeScreen(false);\r\n    }\r\n   \r\n    else if(scoreManager.getReload())\r\n    {\r\n        scoreManager.setReload(false);\r\n        console.log(\"Reload clicked\");\r\n        this.moveOn=true;\r\n\r\n        this.pop_down_next_level();\r\n         console.log(\"before flush\");\r\n        this.flushall();\r\n        console.log(\"flushed\");\r\n        this.gamePlayStart(this.current_level);\r\n    }\r\n }\r\n\r\n nextlevelpop()\r\n {\r\n     this.nextlevel=instantiate(this.popup);\r\n     this.node.addChild(this.nextlevel);\r\n     this.nextlevel.setPosition(0,-((this.height/2)+ this.popup.data.height),0);\r\n     tween(this.nextlevel)\r\n     .to(0.5,{position : new Vec3(0,0,0)})\r\n    .start();\r\n   \r\n }\r\n\r\ntouchMove(event:any)\r\n    {\r\n        if(this.moveOn)\r\n        {\r\n        let current:Vec3=this.node.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(event.getUILocation().x,event.getUILocation().y,1));\r\n        var xpos=(current.x); \r\n        let moon=this.base.node.width/5;\r\n        if((this.width/2)-(this.Breaker.data.width/2)>xpos && -((this.width/2)-(this.Breaker.data.width/2))<xpos)\r\n        {\r\n\r\n        this.bouncer.setPosition(xpos,-(this.height/2)+moon,0);\r\n        }\r\n    }\r\n    \r\n    }\r\nupdate()\r\n    {\r\n        this.level_string.getComponent(Label).string=`Level No:${this.current_level+1}`;\r\n        this.clickcall();\r\n        for(let i=0;i<this.reward_fruit.length;i++)\r\n        {\r\n            this.reward_fruit[i].setPosition(this.reward_fruit[i].position.x,this.reward_fruit[i].position.y-10,1);\r\n            if(this.Fruit_collision(this.reward_fruit[i]))\r\n            {\r\n                this.playerscore=+2;\r\n                this.reward_fruit[i].destroy();\r\n                this.reward_fruit.shift();\r\n            }\r\n            if(this.Fruit_basecollision(this.reward_fruit[i]))\r\n            {\r\n                this.reward_fruit[i].destroy();\r\n                this.reward_fruit.shift();\r\n                \r\n            }\r\n        }\r\n        this.Nextlevelcheck();       \r\n      \r\n       \r\n\r\n    }\r\nonLoad()\r\n    {\r\n        this.bouncer=instantiate(this.Breaker);\r\n        this.node.addChild(this.bouncer);\r\n        systemEvent.on(SystemEvent.EventType.TOUCH_MOVE,this.touchMove,this);\r\n     \r\n        \r\n    }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}